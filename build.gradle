
plugins {
  id "com.github.hierynomus.license" version "0.11.0"
}
 
apply plugin: 'java'
apply plugin: 'idea'
apply plugin: 'application'
//apply plugin: 'checkstyle'
//apply plugin: 'codenarc'

mainClassName = "com.autoclavestudios.jbower.console.Main"

repositories {
    jcenter()
    mavenCentral()
}

dependencies {
    compile     'org.slf4j:slf4j-api:1.7.7'
    compile     'org.fusesource.jansi:jansi:1.11'
    compile     'com.beust:jcommander:1.47'
    compile     'org.eclipse.jgit:org.eclipse.jgit:3.7.0.201502260915-r'
    testCompile 'junit:junit:4.11'
}

idea.project.ipr {
    withXml { provider ->
        provider.node.component
                .find { it.@name == 'VcsDirectoryMappings' }.mapping.@vcs = 'Git'
    }
}

task wrapper(type: Wrapper) {
	gradleVersion = "2.3"
}

license {
    header = project.file('gradle/HEADER')
    strictCheck = true
    ext.year = Calendar.getInstance().get(Calendar.YEAR)
    ext.name = 'Autoclave Studios'
    ext.email = 'stewart.bonnick@autoclavestudios.com'
}

downloadLicenses {
    includeProjectDependencies = true
    dependencyConfiguration = 'compile'
}